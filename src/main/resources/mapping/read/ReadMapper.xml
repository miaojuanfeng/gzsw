<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="gz.sw.mapper.read.ReadDao" >
    <select id="selectStbprpList" resultType="java.util.Map">
        select *
        from ST_STBPRP_B
    </select>
    <select id="selectZvarlList" resultType="java.util.Map">
        select rz, w, ptno
        from ST_ZVARL_B z,
        (select top 1 MSTM from ST_ZVARL_B where STCD = #{stcd} and #{date} >= MSTM order by MSTM desc) n
        where 1=1
        and z.STCD = #{stcd}
		and z.MSTM = n.MSTM
        order by z.PTNO asc
    </select>
    <select id="selectDischargeList" resultType="java.util.Map">
        select *
        from ST_DISCHARGE_B
    </select>
    <select id="selectInitData" resultType="java.util.Map">
        select
        (select RZ from ST_RSVR_R where stcd = '62303130' and tm = '2018-06-01 08:00:00') as rz,
        (select top 1 otq from ST_RSVR_R where stcd = '62303130' and '2016-06-01 08:00:00' > tm order by tm desc) as oq,
        (select fsltdz from ST_RSVRFSR_B where stcd = '62303130' and actyr = '2014' and '0601' >= bgmd and edmd >= '0601') as lim
    </select>
</mapper>